<!DOCTYPE html>
<html lang="uk">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Задача 3</title>
</head>

<body>
	<h1>Задача 3</h1>

	<p>Дано масив 30 випадкових цілих чисел. Підрахувати скільки було обмінів та порівнянь чисел під час сортування
		включеннями.</p>

	<script>
		function getRandomNumber(from, to) {
			const minRandomNumber = Math.ceil(from);
			const maxRandomNumber = Math.floor(to);
			const randomNumber = Math.floor(Math.random() * (maxRandomNumber - minRandomNumber + 1) + minRandomNumber);

			return randomNumber;
		}

		function createArrayWithRandomNumbers(from, to, countNumbers) {
			let arrayWithRandomNumbers = [];
			for (let i = 0; i < countNumbers; i++) {
				arrayWithRandomNumbers.push(getRandomNumber(from, to));
			}
			return arrayWithRandomNumbers;
		}

		const arrayWithRandomNumbers = createArrayWithRandomNumbers(-50, 50, 30);
		document.write(`Початковий масив: ${arrayWithRandomNumbers} <br>`);

		function swap(array, firstIndex, secondIndex) {
			let temp = array[firstIndex];
			array[firstIndex] = array[secondIndex];
			array[secondIndex] = temp;
		}

		function insertSort(array) {

			let numberOfComparisons = 0;
			let numberOfExchanges = 0;

			for (let k = 1; k < array.length; k++) {
				const currentElement = array[k];
				let i = k - 1;

				while (i >= 0 && array[i] > currentElement) {
					numberOfComparisons++;
					array[i + 1] = array[i];
					i = i - 1;

					numberOfExchanges++
				}
				array[i + 1] = currentElement;
				numberOfExchanges++
			}


			return [array, numberOfComparisons, numberOfExchanges]
		}

		const [sortedArray, numberOfComparisons, numberOfExchanges] = [...insertSort(arrayWithRandomNumbers)];


		document.write(`Масив після сортування включеннями: ${sortedArray} <br>`);
		document.write(`Було виконано порівнянь: ${numberOfComparisons} <br>`);
		document.write(`Було виконано обмінів ${numberOfExchanges} <br>`);
	</script>

</body>

</html>