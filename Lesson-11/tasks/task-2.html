<!DOCTYPE html>
<html lang="uk">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<title>Задача 2</title>
</head>

<body>
	<h1>Задача 2</h1>

	<p>Дано інформацію про прибуток К магазинів протягом тижня. Знайти:
		<ol>
			<li>Загальний прибуток кожного масиву за тиждень.</li>
			<li>Загальний прибуток усіх магазинів по дням (загальний прибуток усіх магазинів за понеділок, за вівторок, і
				т.д.).</li>
			<li>Загальний прибуток за робочі дні.</li>
			<li>Загальний прибуток за вихідні дні.</li>
			<li>Максимальний прибуток за середу.</li>
			<li>Сформувати загальний список (одновимірний масив) зі значенням, які що більші за 200.</li>
			<li>Відсортувати кожен тиждень за зростанням.</li>
			<li>Відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку), тобто при порівнянні
				рядків потрібно порівнювати максимальні елементи у кожному з цих рядків.</li>
			<li>Упорядкувати тижні (рядки) за спаданням суми елементів у рядку (тобто при порівнянні двох рядків треба
				знайти суму кожного з рядків і порівнювати ці суми, на основі цих сум буде зрозуміло, який з елементів
				повинен іти раніше).</li>
		</ol>
	</p>


	<script>
		const profits = [
			[100, 150, 200, 180, 120, 250, 300],
			[80, 100, 150, 190, 220, 210, 180],
			[120, 130, 140, 160, 190, 210, 250],
			[90, 110, 100, 120, 130, 140, 150],
			[200, 180, 250, 220, 190, 230, 280]
		];

		//Загальний прибуток кожного масиву за тиждень.

		for (let storeIndex = 0; storeIndex < profits.length; storeIndex++) {
			let profitStoreForTheWeek = 0;

			for (let dayIndex = 0; dayIndex < profits[storeIndex].length; dayIndex++) {
				profitStoreForTheWeek += profits[storeIndex][dayIndex];
			}

			document.write(`<p>Загальний прибуток ${storeIndex + 1} магазину за тиждень: ${profitStoreForTheWeek}</p>`)
		}

		document.write('<hr>');

		//Загальний прибуток усіх магазинів по дням

		for (let dayIndex = 0; dayIndex < profits[0].length; dayIndex++) {
			let profitStoresForDay = 0;

			for (let storeIndex = 0; storeIndex < profits.length; storeIndex++) {
				profitStoresForDay += profits[storeIndex][dayIndex];
			}

			document.write(`<p>Загальний прибуток усіх магазинів за ${dayIndex + 1} день: ${profitStoresForDay}</p>`)
		}

		document.write('<hr>');

		//Загальний прибуток за робочі дні.

		let profitsForWorkingDays = 0;

		for (let storeIndex = 0; storeIndex < profits.length; storeIndex++) {
			for (let dayIndex = 0; dayIndex < 5; dayIndex++) {
				profitsForWorkingDays += profits[storeIndex][dayIndex];
			}
		}

		//Загальний прибуток за вихідні дні

		let profitsForWeekend = 0;

		for (let storeIndex = 0; storeIndex < profits.length; storeIndex++) {
			for (let dayIndex = 5; dayIndex < profits[storeIndex].length; dayIndex++) {
				profitsForWeekend += profits[storeIndex][dayIndex];
			}
		}

		document.write(`<p>Загальний прибуток за вихідні дні: ${profitsForWeekend}</p>`);

		//Максимальний прибуток за середу


		const wednesdayIndex = 2;
		let maxProfitForWednesday = -Infinity;

		for (let storeIndex = 0; storeIndex < profits.length; storeIndex++) {
			if (profits[storeIndex][wednesdayIndex] > maxProfitForWednesday) maxProfitForWednesday = profits[storeIndex][
				wednesdayIndex
			];
		}

		document.write(`<p>Максимальний прибуток за середу: ${maxProfitForWednesday}</p>`);

		//Сформувати загальний список (одновимірний масив) зі значенням, які що більші за 200.

		const arrayProfitsMoreThanTwoHundred = profits.flat().filter(profit => profit > 200);

		document.write(
			`<p>Загальний список (одновимірний масив) зі значенням, які що більші за 200: ${arrayProfitsMoreThanTwoHundred}</p>`
		);

		//Відсортувати кожен тиждень за зростанням

		for (let storeIndex = 0; storeIndex < profits.length; storeIndex++) {
			profits[storeIndex].sort((a, b) => a - b);
		}

		document.write(
			`<p>Відсортувати кожен тиждень за зростанням: ${profits}</p>`
		);

		//Відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку)

		profits.sort((a, b) => Math.max(...b) - Math.max(...a));

		document.write(
			`<p>Відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку): ${profits}</p>`
		);

		//Упорядкувати тижні (рядки) за спаданням суми елементів у рядку

		profits.sort((a, b) => b.reduce((prevSum, profit) => prevSum + profit) - a.reduce((prevSum, profit) => prevSum +
			profit));

		document.write(
			`<p>Відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку): ${profits}</p>`
		);
	</script>

</body>

</html>